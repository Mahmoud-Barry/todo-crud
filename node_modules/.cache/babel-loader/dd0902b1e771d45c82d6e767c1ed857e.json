{"ast":null,"code":"import _asyncToGenerator from\"/home/docteurjs/Bureau/Bakeli/todo-crud/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/docteurjs/Bureau/Bakeli/todo-crud/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/docteurjs/Bureau/Bakeli/todo-crud/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/docteurjs/Bureau/Bakeli/todo-crud/node_modules/@babel/runtime/regenerator/index.js\";import'./App.css';import React from'react';import Title from'./components/Title';import AddTodo from'./components/AddTodo';import Todo from'./components/Todo';import{collection,query,onSnapshot,doc,updateDoc,deleteDoc}from\"firebase/firestore\";import{db}from\"./firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),todos=_React$useState2[0],setTodos=_React$useState2[1];React.useEffect(function(){var q=query(collection(db,\"todos\"));var unsub=onSnapshot(q,function(querySnapshot){var todosArray=[];querySnapshot.forEach(function(doc){todosArray.push(_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id}));});setTodos(todosArray);});return function(){return unsub();};},[]);var handleEdit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(todo,title){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return updateDoc(doc(db,\"todos\",todo.id),{title:title});case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleEdit(_x,_x2){return _ref.apply(this,arguments);};}();var toggleComplete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(todo){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateDoc(doc(db,\"todos\",todo.id),{completed:!todo.completed});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function toggleComplete(_x3){return _ref2.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return deleteDoc(doc(db,\"todos\",id));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDelete(_x4){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Title,{})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AddTodo,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"todo_container\",children:todos.map(function(todo){return/*#__PURE__*/_jsx(Todo,{todo:todo,toggleComplete:toggleComplete,handleDelete:handleDelete,handleEdit:handleEdit},todo.id);})})]});}export default App;","map":{"version":3,"sources":["/home/docteurjs/Bureau/Bakeli/todo-crud/src/App.js"],"names":["React","Title","AddTodo","Todo","collection","query","onSnapshot","doc","updateDoc","deleteDoc","db","App","useState","todos","setTodos","useEffect","q","unsub","querySnapshot","todosArray","forEach","push","data","id","handleEdit","todo","title","toggleComplete","completed","handleDelete","map"],"mappings":"sfAAA,MAAO,WAAP,CACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,OACEC,UADF,CAEEC,KAFF,CAGEC,UAHF,CAIEC,GAJF,CAKEC,SALF,CAMEC,SANF,KAOO,oBAPP,CAQA,OAASC,EAAT,KAAmB,YAAnB,C,wFAEA,QAASC,CAAAA,GAAT,EAAc,CACZ,oBAA2BX,KAAK,CAACY,QAAN,CAAe,EAAf,CAA3B,oDAAOC,KAAP,qBAAcC,QAAd,qBACAd,KAAK,CAACe,SAAN,CAAgB,UAAM,CACpB,GAAMC,CAAAA,CAAC,CAAGX,KAAK,CAACD,UAAU,CAACM,EAAD,CAAK,OAAL,CAAX,CAAf,CACA,GAAMO,CAAAA,KAAK,CAAGX,UAAU,CAACU,CAAD,CAAI,SAACE,aAAD,CAAmB,CAC7C,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACAD,aAAa,CAACE,OAAd,CAAsB,SAACb,GAAD,CAAS,CAC7BY,UAAU,CAACE,IAAX,gCAAqBd,GAAG,CAACe,IAAJ,EAArB,MAAiCC,EAAE,CAAEhB,GAAG,CAACgB,EAAzC,IACD,CAFD,EAGAT,QAAQ,CAACK,UAAD,CAAR,CACD,CANuB,CAAxB,CAOA,MAAO,kBAAMF,CAAAA,KAAK,EAAX,EAAP,CACD,CAVD,CAUG,EAVH,EAYA,GAAMO,CAAAA,UAAU,0FAAG,iBAAOC,IAAP,CAAaC,KAAb,wIACXlB,CAAAA,SAAS,CAACD,GAAG,CAACG,EAAD,CAAK,OAAL,CAAce,IAAI,CAACF,EAAnB,CAAJ,CAA4B,CAAEG,KAAK,CAAEA,KAAT,CAA5B,CADE,uDAAH,kBAAVF,CAAAA,UAAU,gDAAhB,CAGA,GAAMG,CAAAA,cAAc,2FAAG,kBAAOF,IAAP,6IACfjB,CAAAA,SAAS,CAACD,GAAG,CAACG,EAAD,CAAK,OAAL,CAAce,IAAI,CAACF,EAAnB,CAAJ,CAA4B,CAAEK,SAAS,CAAE,CAACH,IAAI,CAACG,SAAnB,CAA5B,CADM,yDAAH,kBAAdD,CAAAA,cAAc,8CAApB,CAGA,GAAME,CAAAA,YAAY,2FAAG,kBAAON,EAAP,6IACbd,CAAAA,SAAS,CAACF,GAAG,CAACG,EAAD,CAAK,OAAL,CAAca,EAAd,CAAJ,CADI,yDAAH,kBAAZM,CAAAA,YAAY,8CAAlB,CAGA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,kCACE,KAAC,KAAD,IADF,EADF,cAIE,kCACE,KAAC,OAAD,IADF,EAJF,cAOE,YAAK,SAAS,CAAC,gBAAf,UACGhB,KAAK,CAACiB,GAAN,CAAU,SAACL,IAAD,qBACT,KAAC,IAAD,EAEE,IAAI,CAAEA,IAFR,CAGE,cAAc,CAAEE,cAHlB,CAIE,YAAY,CAAEE,YAJhB,CAKE,UAAU,CAAEL,UALd,EACOC,IAAI,CAACF,EADZ,CADS,EAAV,CADH,EAPF,GADF,CAqBD,CAGD,cAAeZ,CAAAA,GAAf","sourcesContent":["import './App.css';\nimport React from 'react';\nimport Title from './components/Title';\nimport AddTodo from './components/AddTodo';\nimport Todo from './components/Todo';\nimport {\n  collection,\n  query,\n  onSnapshot,\n  doc,\n  updateDoc,\n  deleteDoc,\n} from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\nfunction App(){\n  const [todos, setTodos ] = React.useState([]);\n  React.useEffect(() => {\n    const q = query(collection(db, \"todos\"));\n    const unsub = onSnapshot(q, (querySnapshot) => {\n      let todosArray = [];\n      querySnapshot.forEach((doc) => {\n        todosArray.push({ ...doc.data(), id: doc.id });\n      });\n      setTodos(todosArray);\n    });\n    return () => unsub();\n  }, []);\n\n  const handleEdit = async (todo, title) => {\n    await updateDoc(doc(db, \"todos\", todo.id), { title: title });\n  };\n  const toggleComplete = async (todo) => {\n    await updateDoc(doc(db, \"todos\", todo.id), { completed: !todo.completed });\n  };\n  const handleDelete = async (id) => {\n    await deleteDoc(doc(db, \"todos\", id));\n  };\n  return (\n    <div className=\"App\">\n      <div>\n        <Title />\n      </div>\n      <div>\n        <AddTodo />\n      </div>\n      <div className=\"todo_container\">\n        {todos.map((todo) => (\n          <Todo\n            key={todo.id}\n            todo={todo}\n            toggleComplete={toggleComplete}\n            handleDelete={handleDelete}\n            handleEdit={handleEdit}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}